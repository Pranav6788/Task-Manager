<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Task Calendar</title>

  <!-- FullCalendar CSS -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet" />

  <!-- Bootstrap (optional for styling) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>

  <style>
    #calendar {
      max-width: 900px;
      margin: 40px auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <div class="container mt-4 text-center">
    <h2>Task Calendar</h2>
    <div id="calendar"></div>
  </div>

  <!-- Firebase -->
  <!-- <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script> -->

  <!-- FullCalendar -->
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

  <script>
    // const firebaseConfig = {
    //   apiKey: "AIzaSyAU3gX7YZe-hGJ8fB0k0FDq_2b8gplrPFs",
    //   authDomain: "taskmanager-98f33.firebaseapp.com",
    //   projectId: "taskmanager-98f33",
    //   storageBucket: "taskmanager-98f33.appspot.com",
    //   messagingSenderId: "491732499247",
    //   appId: "1:491732499247:web:8998d1f6e1a57de1fdffda"
    // };

    // firebase.initializeApp(firebaseConfig);
    // const db = firebase.firestore();

    document.addEventListener("DOMContentLoaded", async function () {
      const calendarEl = document.getElementById("calendar");

      // const taskSnapshot = await db.collection("tasks").get();
      // const events = [];

      // taskSnapshot.forEach((doc) => {
      //   const task = doc.data();
      //   if (task.dueDate) {
      //     events.push({
      //       title: task.title || "Unnamed Task",
      //       start: task.dueDate,
      //       url: `taskDetails.html?id=${doc.id}`,  // link to task detail page
      //       color: task.status === "Completed" ? "#28a745" :
      //              task.status === "In Progress" ? "#ffc107" : "#dc3545"
      //     });
      //   }
      // });

      const calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: "dayGridMonth",
        height: "auto",
        eventClick: function(info) {
          if (info.event.url) {
            window.open(info.event.url, "_blank");
            info.jsEvent.preventDefault();
          }
        }
      });

      calendar.render();
    });
  </script>
</body>
</html>
